<h1>Add Appointment</h1>

<!-- jQuery UI CSS for Datepicker -->
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

<form method="POST" action="<?= $this->url('appointment/add') ?>" class="form-horizontal">
    <div class="form-group">
        <label for="patient_id" class="col-sm-2 control-label">Patient</label>
        <div class="col-sm-10">
            <select name="patient_id" id="patient_id" class="form-control" required>
                <option value="">Select Patient</option>
                <?php foreach ($this->patients as $patient): ?>
                    <option value="<?= $this->escapeHtmlAttr($patient['id']) ?>">
                        <?= $this->escapeHtml($patient['name']) ?>
                    </option>
                <?php endforeach; ?>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label for="doctor_id" class="col-sm-2 control-label">Doctor</label>
        <div class="col-sm-10">
            <select name="doctor_id" id="doctor_id" class="form-control" required>
                <option value="">Select Doctor</option>
                <?php foreach ($this->doctors as $doctor): ?>
                    <option value="<?= $this->escapeHtmlAttr($doctor['id']) ?>">
                        <?= $this->escapeHtml($doctor['name']) ?>
                    </option>
                <?php endforeach; ?>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label for="appointment_date" class="col-sm-2 control-label">Appointment Date</label>
        <div class="col-sm-10">
            <input type="datetime-local" name="appointment_date" id="appointment_date" class="form-control" required placeholder="YYYY-MM-DD HH:MM:SS">
        </div>
    </div>
    <div class="form-group">
        <label for="status" class="col-sm-2 control-label">Status</label>
        <div class="col-sm-10">
            <select name="status" id="status" class="form-control" required>
                <option value="scheduled">Scheduled</option>
                <option value="confirmed">Confirmed</option>
                <option value="cancelled">Cancelled</option>
            </select>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-primary">Add Appointment</button>
            <a href="<?= $this->url('appointment') ?>" class="btn btn-default">Cancel</a>
        </div>
    </div>
</form>

